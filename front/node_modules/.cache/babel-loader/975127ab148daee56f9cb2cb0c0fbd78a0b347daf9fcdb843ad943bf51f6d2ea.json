{"ast":null,"code":"var _jsxFileName = \"/Users/user/PycharmProjects/lab333/front/src/pages/priziv.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport \"../App.css\";\nimport { Link } from \"react-router-dom\";\nimport { Button } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Priziv() {\n  _s();\n  const [priziv, setPriziv] = useState([]);\n  let ID = window.location.pathname.split('/');\n  useEffect(() => {\n    fetch(`http://127.0.0.1:8000/prizivniki/`).then(response => response.json()).then(result => {\n      setPriziv(result);\n    });\n  }, []);\n  const buy = (quantity, name, surname) => {\n    const ob = {\n      quantity: quantity,\n      name: name,\n      surname: surname\n    };\n    fetch(\"http://127.0.0.1:8000/cart/\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(ob)\n    }).then(res => res.json()).then(res => {\n      console.log(res);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/priziv\",\n        children: \"\\u041F\\u0440\\u0438\\u0437\\u044B\\u0432\\u043D\\u0438\\u043A\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"assortment\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u041F\\u0440\\u0438\\u0437\\u044B\\u0432\\u043D\\u0438\\u043A\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 43\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 62\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"priziv_list\",\n        children: priziv.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"priziv\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/prizivniki/${item.pk}/`,\n            children: [item.surname, \" \", item.name, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 88\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            children: [\"\\u041D\\u0430\\u043B\\u0438\\u0447\\u0438\\u0435 \\u043E\\u0442\\u0441\\u0440\\u043E\\u0447\\u043A\\u0438: \", item.otsrochka, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 62\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 67\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"buy_button\",\n            className: `buy_button ${localStorage.getItem('theme')}`,\n            type: \"submit\",\n            value: \"\\u0412 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\",\n            onClick: () => {\n              buy(1, 1, ID[0]);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this)]\n        }, \"surname:\" + item.surname, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_s(Priziv, \"9byNAlp0tYtCrTaLzw6cA+GSDH8=\");\n_c = Priziv;\nexport default Priziv;\nvar _c;\n$RefreshReg$(_c, \"Priziv\");","map":{"version":3,"names":["React","useState","useEffect","Link","Button","Priziv","priziv","setPriziv","ID","window","location","pathname","split","fetch","then","response","json","result","buy","quantity","name","surname","ob","method","headers","body","JSON","stringify","res","console","log","map","item","pk","otsrochka","localStorage","getItem"],"sources":["/Users/user/PycharmProjects/lab333/front/src/pages/priziv.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport \"../App.css\"\nimport {Link} from \"react-router-dom\";\nimport {Button} from 'react-bootstrap';\n\n\n\nfunction Priziv() {\n\n    const [priziv, setPriziv] = useState([]);\n    let ID = window.location.pathname.split('/');\n\n    useEffect(() => {\n        fetch(`http://127.0.0.1:8000/prizivniki/`)\n            .then(response => response.json())\n            .then((result) => {\n                setPriziv(result);\n            })\n    }, []);\n\n\n    const buy=(quantity, name, surname)=> {\n        const ob = {\n            quantity: quantity,\n            name: name,\n            surname: surname\n        }\n        fetch(\"http://127.0.0.1:8000/cart/\", {\n            method: \"post\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(ob)\n        })\n            .then(res => res.json())\n            .then(res => {\n                console.log(res);\n            })\n    }\n\n    return (\n        <>\n        <div>\n            <Link to=\"/priziv\">Призывники</Link>\n            <div className={\"assortment\"}><h1>Призывники</h1><br/></div>\n            <div className={\"priziv_list\"}>\n\n                {priziv.map(item => (\n                    <div className={\"priziv\"} key={\"surname:\" + item.surname}>\n                        <Link to={`/prizivniki/${item.pk}/`}>{item.surname} {item.name}<br/></Link>\n                        <a>Наличие отсрочки: {item.otsrochka}<br/><br/></a>\n                        <br/>\n                        <input id=\"buy_button\" className={`buy_button ${localStorage.getItem('theme')}`}\n                               type=\"submit\" value=\"В корзину\" onClick={()=>{buy(1 , 1, ID[0])}}/>\n                    </div>\n                ))}\n            </div>\n        </div>\n        {/* <Modal show={show} onHide={handleClose}>*/}\n        {/*    <Modal.Header closeButton>*/}\n        {/*        <Modal.Title>Корзина</Modal.Title>*/}\n        {/*    </Modal.Header>*/}\n        {/*    <Modal.Body>*/}\n        {/*        <Form>*/}\n        {/*            <Form.Group controlId=\"fromBasicEmail\">*/}\n        {/*                <Form.Label><ul>*/}\n        {/*                    {basket.map(el =>*/}\n        {/*                        <Form.Group >*/}\n        {/*                            <Form.Label>Название книги: {el.name}</Form.Label>*/}\n        {/*                            <br/><Form.Label>Количество страниц: {el.pages}</Form.Label>*/}\n        {/*                            <br/><Button value={el.id} onClick ={*/}\n        {/*                            ()=> {*/}\n        {/*                                dispatch(decrem(el.pages));*/}\n        {/*                                setBasket(basket.filter(item => item.id !== el.id))*/}\n        {/*                            }}>Удалить</Button>*/}\n        {/*                        </Form.Group>)}*/}\n        {/*                </ul></Form.Label>*/}\n        {/*                <br/><Form.Label>Страниц к печати: <Status sum = {state.totalPages}/></Form.Label>*/}\n        {/*            </Form.Group>*/}\n        {/*        </Form>*/}\n        {/*    </Modal.Body>*/}\n        {/*</Modal>*/}\n        </>\n    );\n}\n\nexport default Priziv;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}