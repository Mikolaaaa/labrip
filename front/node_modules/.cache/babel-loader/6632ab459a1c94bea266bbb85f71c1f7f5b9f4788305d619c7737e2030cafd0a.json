{"ast":null,"code":"import React, { useState } from 'react';\nimport axios from 'axios';\nimport validator from 'validator';\nimport { DOMEN_SERVER, DOMEN_SITE } from '../../config/const';\nexport default function Register() {}\n_c = Register;\nconst [register, setRegister] = useState(() => {\n  return {\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    password2: \"\"\n  };\n});\nconst changeInputRegister = event => {\n  event.persist();\n  setRegister(prev => {\n    return {\n      ...prev,\n      [event.target.name]: event.target.value\n    };\n  });\n};\nconst submitChackin = event => {\n  event.preventDefault();\n  if (!validator.isEmail(register.email)) {\n    alert(\"You did not enter email\");\n  } else if (register.password !== register.password2) {\n    alert(\"Repeated password incorrectly\");\n  } else if (!validator.isStrongPassword(register.password, {\n    minSymbols: 0\n  })) {\n    alert(\"Password must consist of one lowercase, uppercase letter and number, at least 8 characters\");\n  } else {\n    axios.post(DOMEN_SERVER + \"/auth/registration/\", {\n      username: register.username,\n      email: register.email,\n      password: register.password\n    }).then(res => {\n      if (res.data === true) {\n        window.location.href = DOMEN_SITE + \"/auth\";\n      } else {\n        alert(\"There is already a user with this email\");\n      }\n    }).catch(() => {\n      alert(\"An error occurred on the server\");\n    });\n  }\n};\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","axios","validator","DOMEN_SERVER","DOMEN_SITE","Register","register","setRegister","username","email","password","password2","changeInputRegister","event","persist","prev","target","name","value","submitChackin","preventDefault","isEmail","alert","isStrongPassword","minSymbols","post","then","res","data","window","location","href","catch"],"sources":["/Users/user/PycharmProjects/lab333/front/src/components/auth.js"],"sourcesContent":["import React, { useState } from 'react'\nimport axios from 'axios';\nimport validator from 'validator';\nimport { DOMEN_SERVER, DOMEN_SITE } from '../../config/const';\n\n\nexport default function Register () {\n\n}\n\nconst [register, setRegister] = useState(() => {\n    return {\n        username: \"\",\n        email: \"\",\n        password: \"\",\n        password2: \"\",\n    }\n})\n\nconst changeInputRegister = event => {\n    event.persist()\n    setRegister(prev => {\n        return {\n            ...prev,\n            [event.target.name]: event.target.value,\n        }\n    })\n}\n\n\nconst submitChackin = event => {\n    event.preventDefault();\n    if(!validator.isEmail(register.email)) {\n        alert(\"You did not enter email\")\n    } else if(register.password !== register.password2) {\n        alert(\"Repeated password incorrectly\")\n    } else if(!validator.isStrongPassword(register.password, {minSymbols: 0})) {\n        alert(\"Password must consist of one lowercase, uppercase letter and number, at least 8 characters\")\n    } else {\n        axios.post(DOMEN_SERVER + \"/auth/registration/\", {\n            username: register.username,\n            email: register.email,\n            password: register.password,\n        }).then(res => {\n            if (res.data === true) {\n                window.location.href = DOMEN_SITE + \"/auth\"\n            } else {\n                alert(\"There is already a user with this email\")\n            }\n        }).catch(() => {\n            alert(\"An error occurred on the server\")\n        })\n    }\n}"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,WAAW;AACjC,SAASC,YAAY,EAAEC,UAAU,QAAQ,oBAAoB;AAG7D,eAAe,SAASC,QAAQ,GAAI,CAEpC;AAAC,KAFuBA,QAAQ;AAIhC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC,MAAM;EAC3C,OAAO;IACHQ,QAAQ,EAAE,EAAE;IACZC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE,EAAE;IACZC,SAAS,EAAE;EACf,CAAC;AACL,CAAC,CAAC;AAEF,MAAMC,mBAAmB,GAAGC,KAAK,IAAI;EACjCA,KAAK,CAACC,OAAO,EAAE;EACfP,WAAW,CAACQ,IAAI,IAAI;IAChB,OAAO;MACH,GAAGA,IAAI;MACP,CAACF,KAAK,CAACG,MAAM,CAACC,IAAI,GAAGJ,KAAK,CAACG,MAAM,CAACE;IACtC,CAAC;EACL,CAAC,CAAC;AACN,CAAC;AAGD,MAAMC,aAAa,GAAGN,KAAK,IAAI;EAC3BA,KAAK,CAACO,cAAc,EAAE;EACtB,IAAG,CAAClB,SAAS,CAACmB,OAAO,CAACf,QAAQ,CAACG,KAAK,CAAC,EAAE;IACnCa,KAAK,CAAC,yBAAyB,CAAC;EACpC,CAAC,MAAM,IAAGhB,QAAQ,CAACI,QAAQ,KAAKJ,QAAQ,CAACK,SAAS,EAAE;IAChDW,KAAK,CAAC,+BAA+B,CAAC;EAC1C,CAAC,MAAM,IAAG,CAACpB,SAAS,CAACqB,gBAAgB,CAACjB,QAAQ,CAACI,QAAQ,EAAE;IAACc,UAAU,EAAE;EAAC,CAAC,CAAC,EAAE;IACvEF,KAAK,CAAC,4FAA4F,CAAC;EACvG,CAAC,MAAM;IACHrB,KAAK,CAACwB,IAAI,CAACtB,YAAY,GAAG,qBAAqB,EAAE;MAC7CK,QAAQ,EAAEF,QAAQ,CAACE,QAAQ;MAC3BC,KAAK,EAAEH,QAAQ,CAACG,KAAK;MACrBC,QAAQ,EAAEJ,QAAQ,CAACI;IACvB,CAAC,CAAC,CAACgB,IAAI,CAACC,GAAG,IAAI;MACX,IAAIA,GAAG,CAACC,IAAI,KAAK,IAAI,EAAE;QACnBC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG3B,UAAU,GAAG,OAAO;MAC/C,CAAC,MAAM;QACHkB,KAAK,CAAC,yCAAyC,CAAC;MACpD;IACJ,CAAC,CAAC,CAACU,KAAK,CAAC,MAAM;MACXV,KAAK,CAAC,iCAAiC,CAAC;IAC5C,CAAC,CAAC;EACN;AACJ,CAAC;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}